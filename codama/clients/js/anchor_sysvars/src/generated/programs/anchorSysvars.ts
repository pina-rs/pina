/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import { assertIsInstructionWithAccounts, containsBytes, getU8Encoder, SOLANA_ERROR__PROGRAM_CLIENTS__FAILED_TO_IDENTIFY_INSTRUCTION, SOLANA_ERROR__PROGRAM_CLIENTS__UNRECOGNIZED_INSTRUCTION_TYPE, SolanaError, type Address, type ClientWithTransactionPlanning, type ClientWithTransactionSending, type Instruction, type InstructionWithData, type ReadonlyUint8Array } from '@solana/kit';
import { addSelfPlanAndSendFunctions, type SelfPlanAndSendFunctions } from '@solana/program-client-core';
import { getSysvarsInstruction, parseSysvarsInstruction, type ParsedSysvarsInstruction, type SysvarsInput } from '../instructions';

export const ANCHOR_SYSVARS_PROGRAM_ADDRESS = 'Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS' as Address<'Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS'>;

export enum AnchorSysvarsInstruction { Sysvars }

export function identifyAnchorSysvarsInstruction(instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array): AnchorSysvarsInstruction {
    const data = 'data' in instruction ? instruction.data : instruction;
    if (containsBytes(data, getU8Encoder().encode(0), 0)) { return AnchorSysvarsInstruction.Sysvars; }
    throw new SolanaError(SOLANA_ERROR__PROGRAM_CLIENTS__FAILED_TO_IDENTIFY_INSTRUCTION, { instructionData: data, programName: "anchorSysvars" });
}

export type ParsedAnchorSysvarsInstruction<TProgram extends string = 'Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS'> =
| { instructionType: AnchorSysvarsInstruction.Sysvars } & ParsedSysvarsInstruction<TProgram>


        export function parseAnchorSysvarsInstruction<TProgram extends string>(
            instruction: Instruction<TProgram> 
                & InstructionWithData<ReadonlyUint8Array>
        ): ParsedAnchorSysvarsInstruction<TProgram> {
            const instructionType = identifyAnchorSysvarsInstruction(instruction);
            switch (instructionType) {
                case AnchorSysvarsInstruction.Sysvars: { assertIsInstructionWithAccounts(instruction);
return { instructionType: AnchorSysvarsInstruction.Sysvars, ...parseSysvarsInstruction(instruction) }; }
                default: throw new SolanaError(SOLANA_ERROR__PROGRAM_CLIENTS__UNRECOGNIZED_INSTRUCTION_TYPE, { instructionType: instructionType as string, programName: "anchorSysvars" });
            }
        }

export type AnchorSysvarsPlugin = { instructions: AnchorSysvarsPluginInstructions; }

export type AnchorSysvarsPluginInstructions = { sysvars: (input: SysvarsInput) => ReturnType<typeof getSysvarsInstruction> & SelfPlanAndSendFunctions; }

export type AnchorSysvarsPluginRequirements = ClientWithTransactionPlanning & ClientWithTransactionSending

export function anchorSysvarsProgram() {
    return <T extends AnchorSysvarsPluginRequirements>(client: T) => {
        return { ...client, anchorSysvars: <AnchorSysvarsPlugin>{ instructions: { sysvars: input => addSelfPlanAndSendFunctions(client, getSysvarsInstruction(input)) } } };
    };
}